# Sample Output Structure

This folder contains examples of the files generated by the CARLA dataset creation scripts.

## File Types Generated

### Video Files
- `recording_drive-1.mp4` - Main video recording (actual file would be ~100MB for 60 seconds)
- `recording_drive-2.mp4` - Sequential recordings continue numbering

### Action Files  
- `actions_drive-1.json` - Timestamped action log (see sample below)
- `actions_drive-2.json` - Corresponding to each video file

### Audio Files
- `audio_drive-1.wav` - Audio placeholder (currently silent)
- `audio_drive-2.wav` - Future: could contain engine sounds, environment audio

## Sample Action Log Format

```json
{
  "session_info": {
    "session_number": 1,
    "start_time": "2025-10-02T15:00:27",
    "duration_seconds": 173.1,
    "total_actions": 1807,
    "video_file": "recording_drive-1.mp4",
    "audio_file": "audio_drive-1.wav"
  },
  "actions": [
    {
      "timestamp": 1.30,
      "action": "ACCELERATE",
      "frame_number": 26,
      "vehicle_state": {
        "speed": 0.0,
        "throttle": 0.5,
        "brake": 0.0,
        "steer": 0.0
      }
    },
    {
      "timestamp": 2.60,
      "action": "ACCELERATE_RIGHT", 
      "frame_number": 52,
      "vehicle_state": {
        "speed": 8.2,
        "throttle": 0.8,
        "brake": 0.0,
        "steer": 0.3
      }
    },
    {
      "timestamp": 4.90,
      "action": "RIGHT",
      "frame_number": 98,
      "vehicle_state": {
        "speed": 15.7,
        "throttle": 0.0,
        "brake": 0.0,
        "steer": 0.5
      }
    }
  ]
}
```

## File Size Expectations

| File Type | Typical Size | Example |
|-----------|--------------|---------|
| Video (60s @ 15fps, 1024x768) | ~80-120MB | recording_drive-1.mp4 |
| Actions (60s @ 20Hz) | ~50-200KB | actions_drive-1.json |
| Audio (60s, placeholder) | ~5MB | audio_drive-1.wav |

## Naming Convention

Files are automatically numbered sequentially:
- Session 1: `recording_drive-1.*`, `actions_drive-1.*`, `audio_drive-1.*`
- Session 2: `recording_drive-2.*`, `actions_drive-2.*`, `audio_drive-2.*`
- Session N: `recording_drive-N.*`, `actions_drive-N.*`, `audio_drive-N.*`

## Data Quality Indicators

### Good Quality Session
- Duration: 30-300 seconds
- FPS: 15+ consistent
- Actions: 200+ logged actions per minute
- No missing frames or corrupted data

### Issues to Watch For
- Very short duration (< 5 seconds)
- Low action count (indicates stuck/idle vehicle)
- FPS drops (visible in choppy video)
- Large file sizes (may indicate recording issues)

## Processing for ML Training

The generated files can be processed into ML-ready format:

1. **Video Processing**: Extract frames at regular intervals
2. **Action Alignment**: Synchronize actions with video timestamps  
3. **Data Augmentation**: Crop, resize, normalize frames
4. **Sequence Creation**: Create input-output pairs for training

Example processing pipeline:
```python
# Pseudocode for processing
video = load_video("recording_drive-1.mp4")
actions = load_json("actions_drive-1.json")

# Create training samples
samples = []
for i in range(0, len(video), sample_length):
    frame_sequence = video[i:i+sample_length]
    action_sequence = get_actions_for_timespan(actions, start_time, end_time)
    samples.append((frame_sequence, action_sequence))
```

This structure enables efficient processing of collected data for XAI autonomous driving research.